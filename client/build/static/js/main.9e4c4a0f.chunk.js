(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){},44:function(e,t,a){e.exports=a.p+"static/media/spinner.377ea55d.gif"},49:function(e,t,a){e.exports=a(82)},81:function(e,t){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),s=(a(30),a(2)),o=a(19),i=a(7),u=a(4),m=a(1),p=a.n(m),d=a(5),f=a(6),E=a.n(f),g="POST_ERROR",h=(Object(u.b)(function(e){return{notification:e.notification}},{getNotification:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/notification");case 3:a=e.sent,t({type:"GET_NOTIFICATION",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},seeNotification:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/notification/see");case 3:a=e.sent,t({payload:a.data,type:"SEE_NOTIFICATION"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.notification,a=e.getNotification,l=e.seeNotification;return Object(n.useEffect)(function(){a()},[a]),r.a.createElement("div",null,t.seen?r.a.createElement(s.b,{to:"/dashboard"},r.a.createElement("i",{className:"far fa-bell font-size-1 mx-1"})):r.a.createElement("button",{className:"noti-button",onClick:function(e){return l()}},r.a.createElement(s.b,{to:"/dashboard"},r.a.createElement("i",{className:"fas fa-bell text-primary font-size-1 mx-1"}))))}),a(43)),b=a.n(h),v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=b.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout(function(){return n({type:"REMOVE_ALERT",payload:r})},a)}},y=function(e){e?E.a.defaults.headers.common["x-auth-token"]=e:delete E.a.defaults.headers.common["x-auth-token"]},N=function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&y(localStorage.token),e.prev=1,e.next=4,E.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},k=a(23),O=Object(u.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})(function(e){var t=e.auth,a=t.isAuthenticated,l=t.loading,c=e.logout,o=Object(k.useMediaPredicate)("(min-width: 700px)"),u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],d=m[1],f=r.a.createElement("ul",{className:p?"block":"hide"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/post-form",onClick:function(e){return d(!1)}},"+")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/dashboard",onClick:function(e){return d(!1)}},r.a.createElement("i",{className:"fas fa-user"})," ",r.a.createElement("span",{className:"hide-sm"},"My Dashboard"))),r.a.createElement("li",null,r.a.createElement("a",{onClick:c,href:"/"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"  ",r.a.createElement("span",{className:"hide-sm"},"Log out"))),r.a.createElement("li",null," ",!o&&r.a.createElement(s.b,{to:"/about",onClick:function(e){return d(!1)}},"About"))),E=r.a.createElement("ul",{className:p?"block":"hide"},r.a.createElement("li",null),r.a.createElement(s.b,{to:"/register",onClick:function(e){return d(!1)}},r.a.createElement("li",null,"Sign up")),r.a.createElement(s.b,{to:"/login",onClick:function(e){return d(!1)}},r.a.createElement("li",null,"Log in")),!o&&r.a.createElement(s.b,{to:"/about",onClick:function(e){return d(!1)}},r.a.createElement("li",null,"About")));return r.a.createElement("nav",{className:"navbar bg-white"},r.a.createElement("div",{className:"fix-content"},r.a.createElement("h1",null,r.a.createElement(s.b,{to:"/",onClick:function(e){return d(!1)}},o?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:"/images/logo.svg",alt:"logo"}),r.a.createElement("h1",null,"IDEATOSHARE")):r.a.createElement("img",{src:"/images/logo.svg",alt:"logo"}))),o&&r.a.createElement(s.b,{to:"/about",onClick:function(e){return d(!1)}},"About"),r.a.createElement("button",{onClick:function(e){return d(!p)},className:p?"hamburger hamburger--collapse is-active":"hamburger hamburger--collapse",type:"button"},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"})))),!l&&r.a.createElement(n.Fragment,null,a?f:E))}),x=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return e.isAuthenticated?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("p",null,"Welcome to IdeaToShare"),r.a.createElement("p",{className:"lead"},"Share your ideas and problem with the world"),r.a.createElement("div",{className:"buttons"},r.a.createElement(s.b,{to:"/register",className:"btn btn-action"},"Sign up"),r.a.createElement(s.b,{to:"/login",className:"btn"},"Log in")))))}),w=function(){var e=Object(k.useMediaPredicate)("(min-width: 700px)");return r.a.createElement("div",{className:"about-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,"What is IDEATOSHARE"),r.a.createElement("p",null,"IdeaToshare is a community of changemakers, creators, developers or anyone where individuals can share their thoughts about the world. Whether it\u2019s a problem or anything you want to see in our world. Share, discuss, create !!!")),e&&r.a.createElement("div",{className:"right"},r.a.createElement("img",{src:"images/community.svg",alt:"community"}))),e&&r.a.createElement("div",{className:"look-down"},r.a.createElement("i",{className:"fas fa-chevron-down fa-2x"}),r.a.createElement("i",{className:"fas fa-chevron-down fa-2x relative"})),r.a.createElement("div",{className:"for-you"},r.a.createElement("h2",null,"Is IDEATOSHARE right for you?"),r.a.createElement("div",null,r.a.createElement("p",null,"\u2022 Are you a creator who is looking for an idea for a project?"),r.a.createElement("p",null,"\u2022 Do you have ideas and look for someone to join your team?"),r.a.createElement("p",null,"\u2022 Do you just want to see a better world and share your ideas?"))),r.a.createElement("div",{className:"how-to"},r.a.createElement("h2",null,"How does it work"),r.a.createElement("div",{className:"row1"},r.a.createElement("div",{className:"post-your-thought"},r.a.createElement("img",{src:"images/post.svg",alt:"post"}),r.a.createElement("h3",null,"Post your thoughts"),r.a.createElement("p",null,"Casually share your thoughts about problem or ideas things in your daily life.")),r.a.createElement("div",{className:"discuss"},r.a.createElement("img",{src:"images/discuss.svg",alt:"discuss"}),r.a.createElement("h3",null,"Discuss with others"),r.a.createElement("p",null,"Discuss with others in the community and see whether you can tackle these problem or make these ideas come tre. Maybe someone already solved your problem, maybe it is the novel idea?")),r.a.createElement("div",{className:"help"},r.a.createElement("img",{src:"images/help.svg",alt:"help"}),r.a.createElement("h3",null,"Ask for help"),r.a.createElement("p",null,"If you cannot achieve these alone, maybe you can ask others who sympathize to what you are doing.v"))),r.a.createElement("div",{className:"row2"},r.a.createElement("div",{className:"update"},r.a.createElement("img",{src:"images/update.svg",alt:"update"}),r.a.createElement("h3",null,"Update the status"),r.a.createElement("p",null,"Update the status of your thoughts Are you taklig it? Is it already solved by somehow? Are anyone working on thse problem")),r.a.createElement("div",{className:"facebook"},r.a.createElement("img",{src:"images/facebook.svg",alt:"facebook"}),r.a.createElement("h3",null,"Join facebook group"),r.a.createElement("p",null,"Connect with others more closely and be part of the community.")),r.a.createElement("div",{className:"tackle"},r.a.createElement("img",{src:"/images/tackle.svg",alt:"tackle"}),r.a.createElement("h3",null,"Make it happen"),r.a.createElement("p",null,"Try to solve the problem of make your ideas come true ! Challenge yourself. Let see what you can do to chagne the world."))))))},j=a(14),C=a(3),T=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{setAlert:v,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(d.a)(p.a.mark(function e(r){var l,c,s,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,E.a.post("/api/users",c,l);case 5:s=e.sent,r({type:"REGISTER_SUCCESS",payload:s.data}),r(N()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&o.forEach(function(e){return r(v(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.setAlert,a=e.register,l=e.isAuthenticated,c=Object(n.useState)({name:"",email:"",password:"",password2:""}),u=Object(i.a)(c,2),m=u[0],f=u[1],E=m.name,g=m.email,h=m.password,b=m.password2,v=function(e){return f(Object(C.a)({},m,Object(j.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(d.a)(p.a.mark(function e(n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h!==b?t("Passwords do not match","danger"):a({name:E,email:g,password:h});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(o.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"register-form"},r.a.createElement("h1",{className:"large bold"},"Create your account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return y(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Name"),r.a.createElement("input",{name:"name",type:"text",requried:!0,value:E,onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"E-mail"),r.a.createElement("input",{name:"email",type:"email",value:g,onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{name:"password",type:"password",minLength:"6",value:h,onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{class:"confirm"},"Confirm password"),r.a.createElement("input",{name:"password2",type:"password",minLength:"6",value:b,onChange:function(e){return v(e)}})),r.a.createElement("input",{type:"submit",value:"Create account",className:"btn btn-action"})),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(s.b,{to:"/login"},"Sign in")),r.a.createElement("p",{className:"small"},"By signing up, you agree to the ",r.a.createElement(s.b,null,"Terms of Service")," and"," ",r.a.createElement(s.b,null,"Privacy Policy"))))}),S=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){var r,l,c,s;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("/api/auth",l,r);case 5:c=a.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),n(N()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(s=a.t0.response.data.errors)&&s.forEach(function(e){return n(v(e.msg,"danger"))}),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),c=Object(i.a)(l,2),u=c[0],m=c[1],f=u.email,E=u.password,g=function(e){return m(Object(C.a)({},u,Object(j.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(d.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(f,E);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(o.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"register-form"},r.a.createElement("h1",{className:"large bold"},"Sign in to your account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return h(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"E-mail"),r.a.createElement("input",{name:"email",type:"email",placeholder:"E-mail",value:f,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",minLength:"6",value:E,onChange:function(e){return g(e)}})),r.a.createElement("input",{type:"submit",value:"Sign in",className:"btn btn-action"})),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(s.b,{to:"/register"},"Sign up"))))}),P=a(44),_=a.n(P),A=function(){return r.a.createElement("div",{className:"container-xy"},r.a.createElement("div",{className:"center-xy"},r.a.createElement("img",{src:_.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Landing..."}),r.a.createElement("h1",null,"loading...")))},R=function(){return r.a.createElement("div",{className:"dash-buttons"},r.a.createElement(s.b,{to:"/edit-profile",className:"btn btn-light"},r.a.createElement("i",{class:"fas fa-edit"})," Edit"))},I=function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,E.a.get("/api/profile/me");case 4:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(d.a)(p.a.mark(function n(r){var l,c,s;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l={headers:{"Content-Type":"application/json"}},n.next=4,E.a.post("/api/profile",e,l);case 4:c=n.sent,r({type:"GET_PROFILE",payload:c.data}),r(v(a?"Profile Updated":"Profile Created","success")),t.push("/dashboard"),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),(s=n.t0.response.data.errors)&&s.forEach(function(e){return r(v(e.msg,"danger"))}),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 15:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},D=function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},F=function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.put("/api/posts/comment/".concat(e,"/").concat(t,"/togglelike_comment"));case 3:r=a.sent,n({type:"UPDATE_COMMENT_LIKES",payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),n(v("Please login to like","danger")),n({type:g,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!window.confirm("Are you sure you want to delet this post?")){a.next=8;break}return a.next=5,E.a.delete("/api/posts/".concat(e));case 5:n({type:"DELETE_POST",payload:e}),n(v("Post Removed","success")),t.push("/");case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:g,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},U=a(15),G=a.n(U),Y=Object(u.b)(function(e){return{auth:e.auth}},{toggleLike:function(e){return function(){var t=Object(d.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/togglelike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{id:e,likes:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(v("Please login to vote","danger")),a({type:g,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deletePost:M,toggleStatus:function(e){return function(){var t=Object(d.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/status/".concat(e));case 3:n=t.sent,a({type:"UPDATE_STATUS",payload:{id:e,status:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(v("You are not authorized","danger")),a({type:g,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t,a=e.toggleLike,n=e.deletePost,l=e.toggleStatus,c=e.auth,o=e.post,i=o._id,u=o.title,m=o.name,p=o.avatar,d=o.user,f=o.likes,E=o.comments,g=o.date,h=o.status,b=o.type,v=o.tags,y=e.history;return t="red"===h?r.a.createElement("p",null,"To Tackle"):"yellow"===h?r.a.createElement("p",null,"On Progress"):"green"===h?r.a.createElement("p",null,"Done"):r.a.createElement("p",null,"No Status"),r.a.createElement("div",{className:"post-item ".concat(h,"-border")},r.a.createElement("div",{className:"left"},r.a.createElement(s.b,{to:"/profile/".concat(d)},r.a.createElement("img",{className:"post-avatar",src:p,alt:"avatar".concat(m)}),r.a.createElement("p",null,m)),!c.loading&&c.isAuthenticated&&c.user&&d===c.user._id&&r.a.createElement("button",{onClick:function(e){return n(i,y)},type:"button",className:"delete-post-button"},r.a.createElement("i",{class:"fas fa-trash-alt"}))),r.a.createElement(s.b,{to:"posts/".concat(i),className:"middle"},b&&r.a.createElement("span",{className:"post-type"},b),r.a.createElement("p",{className:"post-item-content"},u),r.a.createElement("p",{className:"post-date small"},"Posted on ",r.a.createElement(G.a,{format:"YYYY/MM/DD"},g)),r.a.createElement("span",{className:"border-btn"},r.a.createElement(s.b,{to:"posts/".concat(i)},r.a.createElement("i",{className:"fas fa-comments"})," ",r.a.createElement("span",{className:"comment-count"},E.length>0?E.length:0))),v&&r.a.createElement("span",{className:"post-tags"},v)),r.a.createElement("div",{className:"right"},c&&c.user&&f.filter(function(e){return e.user===c.user._id}).length>0?r.a.createElement("button",{onClick:function(e){return a(i)},type:"button",className:"btn toggle-like primary-border"},r.a.createElement("i",{class:"fas fa-sort-up text-primary"})," ",r.a.createElement("div",{className:"comment-count"},f.length>0?f.length:0)):r.a.createElement("button",{onClick:function(e){return a(i)},type:"button",className:"btn toggle-like"},r.a.createElement("i",{class:"fas fa-sort-up text-grey"})," ",r.a.createElement("div",{className:"comment-count"},f.length>0?f.length:0)),r.a.createElement("button",{className:"status",onClick:function(e){return l(i)}},r.a.createElement("p",{className:"status1"},"status"),r.a.createElement("p",{className:"status2 ".concat(h,"-status")},t))))}),B=Object(u.b)(function(e){return{auth:e.auth,profile:e.profile,post:e.post}},{getPosts:D,getCurrentProfile:I,deleteAccount:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? This cannot be undone.")){e.next=12;break}return e.prev=1,e.next=4,E.a.delete("/api/profile");case 4:t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),t(v("Your account has been permanently deleted","success")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getCurrentProfile,a=e.getPosts,l=e.deleteAccount,c=e.auth.user,o=e.post.posts,i=e.profile,u=i.profile,m=i.loading;return Object(n.useEffect)(function(){a(),t()},[t,a]),m&&null===u?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Dashboard"),r.a.createElement("p",null,r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"}),"Hello ",c&&c.name,", Welcome to IdeaShare")),null!==u?r.a.createElement("div",{className:"profile-action"},r.a.createElement(s.b,{to:"/profile/".concat(c._id),className:"btn btn-primary"},"My profile"),r.a.createElement(R,null),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l()}},r.a.createElement("i",{class:"fas fa-user-minus"}),"Delete My Account"))):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"You have not created profile yet, let's add some info."),r.a.createElement("div",{className:"profile-action"},r.a.createElement(s.b,{to:"create-profile",className:"btn btn-primary"},"Create Profile"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l()}},r.a.createElement("i",{class:"fas fa-user-minus"}),"Delete My Account"))),r.a.createElement("div",{className:"my-post-section"},r.a.createElement("h2",null,"My posts"),o.filter(function(e){return e.user===c._id}).map(function(e){return r.a.createElement(Y,{key:e._id,post:e})})))}),H=Object(u.b)(null,{createProfile:L})(Object(o.g)(function(e){var t=e.createProfile,a=e.history,l=Object(n.useState)({website:"",location:"",status:"",skills:"",bio:"",youtube:"",twitter:"",facebook:"",instagram:"",linkedin:""}),c=Object(i.a)(l,2),o=c[0],u=c[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),d=p[0],f=p[1],E=o.website,g=o.location,h=o.status,b=o.skills,v=o.bio,y=o.youtube,N=o.twitter,k=o.facebook,O=o.instagram,x=o.linkedin,w=function(e){return u(Object(C.a)({},o,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"edit-profile-section"},r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Let's get some information to make your profile stand out"),r.a.createElement("small",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(o,a)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"status",value:h,onChange:function(e){return w(e)}},r.a.createElement("option",{value:"0"},"* Select Professional Status"),r.a.createElement("option",{value:"Artist"},"Artist"),r.a.createElement("option",{value:"Developer"},"Developer"),r.a.createElement("option",{value:"Designer"},"Designer"),r.a.createElement("option",{value:"Professor"},"Professor"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("small",{className:"form-text"},"Give us an idea of where you are at in your career")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Website",name:"website",value:E,onChange:function(e){return w(e)}}),r.a.createElement("small",{className:"form-text"},"Could be your own or a company website")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Location",name:"location",value:g,onChange:function(e){return w(e)}}),r.a.createElement("small",{className:"form-text"},"City & state suggested (eg. Boston, MA)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Skills",name:"skills",value:b,onChange:function(e){return w(e)}}),r.a.createElement("small",{className:"form-text"},"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{placeholder:"A short bio of yourself",name:"bio",value:v,onChange:function(e){return w(e)}}),r.a.createElement("small",{className:"form-text"},"Tell us a little about yourself")),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return f(!d)},type:"button",className:"btn btn-light"},"Add Social Network Links"),r.a.createElement("span",null,"Optional")),d&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:N,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:k,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:y,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:x,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:O,onChange:function(e){return w(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(s.b,{className:"m-1",to:"dashboard"},"Go Back")))})),W=Object(u.b)(function(e){return{profile:e.profile,auth:e.auth}},{createProfile:L,getCurrentProfile:I})(Object(o.g)(function(e){var t=e.profile,a=t.profile,l=t.loading,c=e.getCurrentProfile,u=e.createProfile,m=e.history,p=e.auth,d=Object(n.useState)({website:"",location:"",status:"",skills:"",bio:"",youtube:"",twitter:"",facebook:"",instagram:"",linkedin:""}),f=Object(i.a)(d,2),E=f[0],g=f[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),v=b[0],y=b[1];Object(n.useEffect)(function(){c(),g({website:l||!a.website?"":a.website,location:l||!a.location?"":a.location,status:l||!a.status?"":a.status,skills:l||!a.skills?"":a.skills,bio:l||!a.bio?"":a.bio,youtube:l||!a.youtube?"":a.youtube,twitter:l||!a.twitter?"":a.twitter,facebook:l||!a.facebook?"":a.facebook,instagram:l||!a.instagram?"":a.instagram,linkedin:l||!a.linkedin?"":a.linkedin})},[l,c]);var N=E.website,k=E.location,O=E.status,x=E.skills,w=E.bio,T=E.youtube,S=E.twitter,P=E.facebook,_=E.instagram,A=E.linkedin,R=function(e){return g(Object(C.a)({},E,Object(j.a)({},e.target.name,e.target.value)))};return p.isAuthenticated?r.a.createElement("div",{className:"edit-profile-section"},r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"})," Let's get some information to make your profile stand out"),r.a.createElement("p",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),u(E,m,!0)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"* What are you?"),r.a.createElement("select",{name:"status",value:O,onChange:function(e){return R(e)}},r.a.createElement("option",{value:"0"},"* Select Professional Status"),r.a.createElement("option",{value:"Artist"},"Artist"),r.a.createElement("option",{value:"Developer"},"Developer"),r.a.createElement("option",{value:"Designer"},"Designer"),r.a.createElement("option",{value:"Professor"},"Professor"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("p",{className:"small"},"Give us an idea of where you are at in your career")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Your website"),r.a.createElement("input",{type:"text",placeholder:"Website",name:"website",value:N,onChange:function(e){return R(e)}}),r.a.createElement("p",{className:"small"},"Could be your own or a company website")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Where do you live?"),r.a.createElement("input",{type:"text",placeholder:"Location",name:"location",value:k,onChange:function(e){return R(e)}}),r.a.createElement("p",{className:"small"},"City & state suggested (eg. Boston, MA)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"What are your skills you want to share?"),r.a.createElement("input",{type:"text",placeholder:"* Skills",name:"skills",value:x,onChange:function(e){return R(e)}}),r.a.createElement("p",{className:"small"},"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Tell us a little about yourself"),r.a.createElement("textarea",{placeholder:"A short bio of yourself",name:"bio",value:w,onChange:function(e){return R(e)}})),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return y(!v)},type:"button",className:"btn btn-light"},"Add Social Network Links"),r.a.createElement("span",null,"Optional")),v&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:S,onChange:function(e){return R(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:P,onChange:function(e){return R(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:T,onChange:function(e){return R(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:A,onChange:function(e){return R(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:_,onChange:function(e){return R(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(s.b,{className:"m-1",to:"dashboard"},"Go Back"))):r.a.createElement(o.a,{to:"/login"})})),J=function(e){var t=e.profile,a=t.user,n=(a._id,a.name),l=a.avatar;t.status,t.location,t.skills;return r.a.createElement("div",null,r.a.createElement("img",{src:l,alt:"".concat(n,"-avatar"),className:"profile-avatar"}))},q=Object(u.b)(function(e){return{profile:e.profile}},{getProfiles:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,E.a.get("/api/profile");case 4:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getProfiles,a=e.profile,l=a.profiles,c=a.loading;return Object(n.useEffect)(function(){t()},[t]),r.a.createElement(n.Fragment,null,c||null===l?r.a.createElement(A,null):r.a.createElement("div",{className:"profiles-grid"},r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fab fa-connectdevelop"})," Our Ideators"),r.a.createElement("div",{className:"profiles"},r.a.createElement("div",{className:"flex"},l.length>0?l.map(function(e){return r.a.createElement(J,{key:e._id,profile:e})}):r.a.createElement("h4",null,"No profiles found ...")),r.a.createElement("hr",null),r.a.createElement("p",null,"show more"))))}),K=function(e){var t=e.profile,a=t.status,n=t.location,l=t.website,c=t.social,s=t.user,o=s.name,i=s.avatar;return r.a.createElement("div",{className:"profile-top"},r.a.createElement("img",{src:i,alt:"profile"}),r.a.createElement("h1",null,o),r.a.createElement("p",{className:"lead-status"},a),r.a.createElement("p",null,n&&r.a.createElement("span",null,n)),r.a.createElement("div",{class:"icons my-1"},l&&r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-globe fa-1x"})),c&&c.twitter&&r.a.createElement("a",{href:c.twitter,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter"})),c&&c.facebook&&r.a.createElement("a",{href:c.facebook,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook"})),c&&c.linkedin&&r.a.createElement("a",{href:c.linkedin,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin"})),c&&c.youtube&&r.a.createElement("a",{href:c.youtube,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-youtube"})),c&&c.instagram&&r.a.createElement("a",{href:c.instagram,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}))))},V=function(e){var t=e.profile,a=t.bio,l=t.skills,c=t.user.name.trim().split(" ")[0];return r.a.createElement("div",{class:"profile-about"},a&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{class:"text-primary"},"s"===c[c.length-1]?"".concat(c,"'"):"".concat(c,"'s")," ","Bio"),r.a.createElement("p",{className:"bio"},a)),r.a.createElement("div",null,r.a.createElement("h2",{class:"text-primary"},"Skills Set"),r.a.createElement("div",{className:"skills"},l.map(function(e,t){return r.a.createElement("div",{key:t,class:"p-1"},r.a.createElement("i",{class:"fa fa-check"})," ",e)}))))},z=Object(u.b)(function(e){return{profile:e.profile,auth:e.auth,post:e.post}},{getProfileById:function(e){return function(){var t=Object(d.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CLEAR_PROFILE"}),t.prev=1,t.next=4,E.a.get("/api/profile/user/".concat(e));case 4:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("inside catch"),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},getPosts:D})(function(e){var t=e.getProfileById,a=e.getPosts,l=e.profile,c=l.profile,o=l.loading,i=e.auth,u=e.post.posts,m=e.match;return Object(n.useEffect)(function(){t(m.params.id),a()},[t,a,m.params.id]),r.a.createElement(n.Fragment,null,o?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,c?r.a.createElement(n.Fragment,null,i.isAuthenticated&&!1===i.loading&&i.user._id===c.user._id&&r.a.createElement(s.b,{to:"/edit-profile",className:"btn btn-dark"},"Edit Profile"),r.a.createElement("div",{className:"profile-section"},r.a.createElement(K,{profile:c}),r.a.createElement(V,{profile:c})),r.a.createElement("div",{className:"look-down"},r.a.createElement("i",{className:"fas fa-chevron-down fa-2x"}),r.a.createElement("i",{className:"fas fa-chevron-down fa-2x relative"})),r.a.createElement("h2",null,"Posts from ",c.user.name),u.filter(function(e){return e.user===c.user._id}).length>0?r.a.createElement(n.Fragment,null,u.filter(function(e){return e.user===c.user._id}).map(function(e){return r.a.createElement(Y,{key:e._id,post:e})})):r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"No post yet"))):r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Sorry, this user doesn't create a profile yet"),r.a.createElement(s.b,{to:"/"},r.a.createElement("i",{class:"fas fa-chevron-left"}),"Back to Home"))))}),Q=Object(u.b)(function(e){return{user:e.user}},{getUsers:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/users");case 3:a=e.sent,t({type:"GET_USERS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.user,a=t.users,l=t.loading,c=e.getUsers;Object(n.useEffect)(function(){c()},[c]);return r.a.createElement(n.Fragment,null,l||null===a?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,r.a.createElement("i",{className:"fab fa-connectdevelop"})," Our Ideators Today"),r.a.createElement("div",{className:"users"},r.a.createElement("div",{className:"flex"},a.length>0?function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}(a).slice(0,10).map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(s.b,{to:"/profile/".concat(e._id)},r.a.createElement("img",{className:"user-avatar",src:e.avatar,alt:"user-avatar"})))}):r.a.createElement("h4",null,"No profiles found ...")),r.a.createElement("hr",null),r.a.createElement(s.b,{to:"/post-form"},"Join them"))))}),X=function(e){var t=e.posts;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Top Discussions"),r.a.createElement("div",{className:"top-discussion-section"},t.sort(function(e,t){return e.comments.length>t.comments.length?-1:t.comments.length>e.comments.length?1:0}).slice(0,10).map(function(e){return r.a.createElement("div",{className:"item ".concat(e.status,"-border")},r.a.createElement(s.b,{to:"/posts/".concat(e._id)},e.title),r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"comments"},r.a.createElement("i",{className:"fas fa-comments"}),e.comments.length),r.a.createElement("div",{className:"likes"},r.a.createElement("i",{class:"fas fa-caret-up"}),e.likes.length)))})))},Z=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"small-about"},r.a.createElement("h2",null,"What is IDEATOSHARE"),r.a.createElement("p",null,"We are a community of changemakers, creators, and ideators who want to create a better society.")))},$=(a(81),Object(u.b)(function(e){return{post:e.post}},{getPosts:D,getTodayPosts:function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/posts/today");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getPosts,a=(e.getTodayPosts,e.post),l=a.posts,c=a.loading;Object(n.useEffect)(function(){t()},[t]);var s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate());return c?r.a.createElement(A,null):r.a.createElement("div",{className:"main-grid"},r.a.createElement("div",{className:"posts-grid"},r.a.createElement("h1",{className:"large text-primary"},"Ideas"),r.a.createElement("div",{className:"posts"},l.filter(function(e){return e.date<o}).map(function(e){return r.a.createElement("h1",null,"hi")}),l.sort(function(e,t){return e.likes.length>t.likes.length?-1:t.likes.length>e.likes.length?1:0}).map(function(e){return r.a.createElement(Y,{key:e._id,post:e})}))),r.a.createElement("div",{className:"right-panel-grid"},r.a.createElement(Z,null),r.a.createElement(Q,null),r.a.createElement(X,{posts:l}),r.a.createElement("div",{className:"fb-group","data-href":"https://www.facebook.com/groups/ideatoshare/","data-width":"350","data-show-social-context":"true","data-show-metadata":"false"}),r.a.createElement("iframe",{title:"producthunt",style:{border:"none"},src:"https://cards.producthunt.com/cards/posts/168618?v=1",width:"350",height:"405",frameborder:"0",scrolling:"no",allowfullscreen:!0})))})),ee=Object(u.b)(function(e){return{auth:e.auth}},{addComment:function(e,t,a){return function(){var n=Object(d.a)(p.a.mark(function n(r){var l,c;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,E.a.post("/api/posts/comment/".concat(e),a,l);case 4:c=n.sent,E.a.post("/api/notification/unsee/".concat(t)),r({type:"ADD_COMMENT",payload:c.data}),r(v("Comment Added","success")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r({type:g,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 13:case"end":return n.stop()}},n,null,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var t=e.auth,a=e.postId,l=e.userId,c=e.addComment,o=Object(n.useState)(""),u=Object(i.a)(o,2),m=u[0],p=u[1];return r.a.createElement("div",{className:"comment-form"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),c(a,l,{text:m}),p("")}},!t.loading&&t.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement("img",{className:"avatar",src:t.user.avatar,alt:"user-avatar"}),r.a.createElement("textarea",{className:"comment-area-responsive",name:"title",rows:"1",placeholder:"What do you think?",value:m,onChange:function(e){p(e.target.value),function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++)e[t].setAttribute("style","height:"+e[t].scrollHeight+"px;overflow-y:hidden;")}(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Comment"})):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Please ",r.a.createElement(s.b,{to:"/login"},"log in")," to comment"))))}),te=Object(u.b)(function(e){return{auth:e.auth}},{deleteSubComment:function(e,t,a){return function(){var n=Object(d.a)(p.a.mark(function n(r){var l;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.a.delete("/api/posts/comment/subcomment/".concat(e,"/").concat(t,"/").concat(a));case 3:l=n.sent,r({type:"REMOVE_SUB_COMMENT",payload:l.data}),r(v("Comment Removed","success")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r({type:g,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(e){return n.apply(this,arguments)}}()},toggleCommentLike:F})(function(e){var t=e.postId,a=e.subcomment,n=a._id,l=a.text,c=a.name,o=a.avatar,i=a.user,u=a.date,m=(a.likes,e.auth),p=e.commentid,d=e.deleteSubComment;return r.a.createElement("div",{className:"subcomment-item"},r.a.createElement("div",null,r.a.createElement(s.b,{className:"user",to:"/profile/".concat(i)},r.a.createElement("img",{className:"avatar",src:o,alt:""}),r.a.createElement("h4",{className:"user-name"},c))),r.a.createElement("div",null,r.a.createElement("p",{className:"comment-content"},l),r.a.createElement("div",{className:"comment-info"},r.a.createElement("p",{className:"comment-date"},r.a.createElement(G.a,{format:"YYYY/MM/DD"},u)),!m.loading&&m.isAuthenticated&&i===m.user._id&&r.a.createElement("button",{onClick:function(e){return d(t,p,n)},type:"button",className:"remove-sub-comment"},"Delete"))))}),ae=Object(u.b)(null,{addSubComment:function(e,t,a){return function(){var n=Object(d.a)(p.a.mark(function n(r){var l,c;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,E.a.post("/api/posts/comment/".concat(e,"/").concat(t),a,l);case 4:c=n.sent,r({type:"ADD_SUB_COMMENT",payload:c.data}),r(v("Comment Added","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r({type:g,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var t=e.addSubComment,a=e.postId,l=e.commentId,c=Object(n.useState)(""),s=Object(i.a)(c,2),o=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(a,l,{text:o}),u("")},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),t({text:o}),u(""))}},r.a.createElement("textarea",{name:"text",rows:"1",placeholder:"leave a comment",value:o,onChange:function(e){u(e.target.value),function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++)e[t].setAttribute("style","height:"+e[t].scrollHeight+"px;overflow-y:hidden;")}(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Add"})))}),ne=Object(u.b)(function(e){return{auth:e.auth}},{deleteComment:function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:n({type:"REMOVE_COMMENT",payload:t}),n(v("Comment Removed","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:g,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},toggleCommentLike:F})(function(e){var t=e.postId,a=e.comment,l=a._id,c=a.text,o=a.name,u=a.avatar,m=a.user,p=a.date,d=a.likes,f=a.subComments,E=e.auth,g=e.deleteComment,h=e.toggleCommentLike,b=Object(n.useState)(!1),v=Object(i.a)(b,2),y=v[0],N=v[1];return r.a.createElement("div",{className:"comment-item"},r.a.createElement("div",null,r.a.createElement(s.b,{className:"user",to:"/profile/".concat(m)},r.a.createElement("img",{className:"avatar",src:u,alt:""}),r.a.createElement("h4",{className:"user-name"},o))),r.a.createElement("div",null,r.a.createElement("p",{className:"comment-content"},c),r.a.createElement("p",{class:"comment-date"},r.a.createElement(G.a,{format:"YYYY/MM/DD"},p)),r.a.createElement("div",{className:"comment-panel"},E&&E.user&&d.filter(function(e){return e.user===E.user._id}).length>0?r.a.createElement("button",{className:"text-primary",onClick:function(e){return h(t,l)}},"Upvote (",d.length,")"):r.a.createElement("button",{onClick:function(e){return h(t,l)}},"Upvote (",d.length,")"),r.a.createElement("button",{className:"toggle-form-button",onClick:function(e){return N(!y)}},r.a.createElement("p",null,"Reply"))),!E.loading&&E.isAuthenticated&&m===E.user._id&&r.a.createElement("button",{onClick:function(e){return g(t,l)},type:"button",className:"remove-comment"},"Delete"),r.a.createElement("div",{className:"subcomment-section"},r.a.createElement("div",{className:"subcomment-form"},y&&r.a.createElement(ae,{postId:t,commentId:l})),r.a.createElement("div",{className:"subcomment-items"},f.map(function(e){return r.a.createElement(te,{commentid:l,subcomment:e,postId:t})})))))}),re=Object(u.b)(function(e){return{post:e.post,auth:e.auth,alert:e.alert}},{getPost:function(e){return function(){var t=Object(d.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:g,payload:{msg:t.t0.message,status:t.t0.name}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getPosts:D,deletePost:M,toggleLikePostPage:function(e){return function(){var t=Object(d.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/togglelike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKE",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(v("Please login to vote","danger")),a({type:g,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(Object(o.g)(function(e){var t=e.getPost,a=(e.getPosts,e.post),l=a.post,c=a.loading,o=e.match,i=e.auth,u=e.deletePost,m=e.toggleLikePostPage,p=(e.alert,e.history);return Object(n.useEffect)(function(){t(o.params.id)},[t]),c||null===l?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement(s.b,{to:"/",className:"btn"},"Back to posts"),r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"left"},r.a.createElement(s.b,{className:"user",to:"/profile/".concat(l.user)},r.a.createElement("img",{className:"avatar",src:l.avatar,alt:""}),r.a.createElement("p",{className:"user-name"}," ",l.name)),r.a.createElement("div",{className:"post-content"},l.type&&r.a.createElement("span",{className:"post-type"},l.type),r.a.createElement("h1",{className:"post-title"},l.title),r.a.createElement("p",{className:"post-body"},l.body),r.a.createElement("p",{className:"post-date"},"Posted on ",r.a.createElement(G.a,{format:"YYYY/MM/DD"},l.date)),r.a.createElement("span",{className:"border-btn"},r.a.createElement("i",{class:"fas fa-comments border-btn"})," ",l.comments.length>0&&r.a.createElement("span",{className:"comment-count"},l.comments.length)),!i.loading&&i.isAuthenticated&&i.user&&l.user===i.user._id&&r.a.createElement("button",{onClick:function(e){return u(l._id,p)},type:"button",className:"delete"},"Delete this post"),l.tags&&r.a.createElement("span",{className:"post-tags"},l.tags))),r.a.createElement("div",{className:"right"},i&&i.user&&l.likes.filter(function(e){return e.user===i.user._id}).length>0?r.a.createElement("button",{onClick:function(e){return m(l._id)},type:"button",className:"btn toggle-like primary-border"},r.a.createElement("i",{class:"fas fa-sort-up"})," ",r.a.createElement("div",{className:"comment-count"},l.likes.length>0?l.likes.length:0)):r.a.createElement("button",{onClick:function(e){return m(l._id)},type:"button",className:"btn toggle-like"},r.a.createElement("i",{class:"fas fa-sort-up border-btn"})," ",r.a.createElement("div",{className:"comment-count"},l.likes.length>0?l.likes.length:0)))),r.a.createElement("h2",null,"Discussion"),r.a.createElement("div",{className:"discussion-section"},r.a.createElement(ee,{postId:l._id,userId:l.user}),r.a.createElement("div",{className:"comments"},l.comments.sort(function(e,t){return e.likes.length>t.likes.length?-1:t.likes.length>e.likes.length?1:0}).map(function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(ne,{key:e._id,comment:e,postId:l._id}))}))))})),le=Object(u.b)(function(e){return{post:e.post,alert:e.alert,auth:e.auth}},{addPost:function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){var r,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,E.a.post("/api/posts",e,r);case 4:l=a.sent,n({type:"ADD_POST",payload:l.data}),n(v("Post Created","success")),t.push("/posts/".concat(l.data._id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:g,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}})(Object(o.g)(function(e){e.post.post;var t=e.addPost,a=(e.alert,e.history),l=e.auth,c=Object(n.useState)({title:"",body:"",type:"",tags:""}),s=Object(i.a)(c,2),u=s[0],m=s[1];if(!l.isAuthenticated)return Object(o.a)("/login");var p=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++)e[t].setAttribute("style","height:"+e[t].scrollHeight+"px;overflow-y:hidden;")};return r.a.createElement("div",{className:"post-form"},r.a.createElement("h3",null,"Share you idea"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u,a),m("")}},r.a.createElement("textarea",{name:"title",rows:"1",placeholder:"What is the idea, problem you have?",value:u.title,onChange:function(e){m(Object(C.a)({},u,{title:e.target.value})),p(e.target.value)},required:!0}),r.a.createElement("textarea",{name:"body",rows:"1",placeholder:"Tell us more how you come up with that, what is the background",value:u.body,onChange:function(e){m(Object(C.a)({},u,{body:e.target.value})),p(e.target.value)},required:!0}),r.a.createElement("p",{className:"label"},"Post Type"),r.a.createElement("select",{name:"type",value:u.type,onChange:function(e){return m(Object(C.a)({},u,{type:e.target.value}))}},r.a.createElement("option",{value:"0"},"* Select post type"),r.a.createElement("option",{value:"Problem"},"Problem"),r.a.createElement("option",{value:"Idea"},"Idea"),r.a.createElement("option",{value:"Question"},"Question"),r.a.createElement("option",{value:"Else"},"Else")),r.a.createElement("p",{className:"label"},"Add Tags"),r.a.createElement("select",{name:"tags",value:u.tags,onChange:function(e){return m(Object(C.a)({},u,{tags:e.target.value}))}},r.a.createElement("option",{value:"0"},"* Select tags"),r.a.createElement("option",{value:"Social Issue"},"Social Issue"),r.a.createElement("option",{value:"Business Idea"},"Business Idea"),r.a.createElement("option",{value:"Education"},"Education"),r.a.createElement("option",{value:"Poverty"},"Poverty"),r.a.createElement("option",{value:"Food"},"Food"),r.a.createElement("option",{value:"Healthcare"},"Healthcare"),r.a.createElement("option",{value:"Education"},"Education"),r.a.createElement("option",{value:"Energy"},"Energy"),r.a.createElement("option",{value:"Economy"},"Economy"),r.a.createElement("option",{value:"Climate Change"},"Climate Change"),r.a.createElement("option",{value:"Life below water"},"Life below water"),r.a.createElement("option",{value:"Life on land"},"Life on land"),r.a.createElement("option",{value:"Peace and Justice"},"Peace and Justice"),r.a.createElement("option",{value:"Else"},"Else")),r.a.createElement("input",{type:"submit",className:"btn btn-primary m-2",value:"Submit"})))})),ce=function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"logo"},"IDEATOSHARE"),r.a.createElement("div",{className:"link"},r.a.createElement(s.b,{className:"link-item",to:"/contact"},"Contact Us"),r.a.createElement(s.b,{className:"link-item",to:"/terms"},"Terms of Service"),r.a.createElement(s.b,{className:"link-item",to:"/privacy-policy"},"Privacy Policy")),r.a.createElement("p",{id:"copyright"},"copyright \u24b8 2019 | Orenoo")))},se=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"contact"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Contact Us"),r.a.createElement("p",{className:"lead"},"We'd love to hear from you"),r.a.createElement("form",{method:"POST",action:"contact",className:"contact-form"},r.a.createElement("p",{className:"label"},"Name"),r.a.createElement("input",{name:"name",type:"text"}),r.a.createElement("p",{className:"label"},"E-mail"),r.a.createElement("input",{name:"email",type:"text"}),r.a.createElement("p",{className:"label"},"Message"),r.a.createElement("textarea",{name:"message",cols:"30",rows:"10"}),r.a.createElement("button",{className:"btn btn-action",type:"submit"},"submit")))))},oe=a(45),ie=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,l=a.loading,c=Object(oe.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},c,{render:function(e){return n||l?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))}),ue=a(17),me=a(46),pe=a(47),de=a(48),fe=[],Ee={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},ge={profile:null,profiles:[],loading:!0,error:{}},he={posts:[],post:null,loading:!0,error:{}},be={users:[],loading:!0,error:{}},ve={notification:[],seen:!0,loading:!0,error:{}},ye=Object(ue.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(de.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(C.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(C.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(C.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(C.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(C.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(C.a)({},e,{error:n,loading:!1});case"CLEAR_PROFILE":return Object(C.a)({},e,{profile:null,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(C.a)({},e,{posts:n,loading:!1});case"GET_POST":case"ADD_POST":return Object(C.a)({},e,{post:n,loading:!1});case g:return Object(C.a)({},e,{error:n,loading:!1});case"UPDATE_COMMENT_LIKES":return Object(C.a)({},e,{post:Object(C.a)({},e.post,{comments:n}),loading:!1});case"UPDATE_LIKES":return Object(C.a)({},e,{posts:e.posts.map(function(e){return e._id===n.id?Object(C.a)({},e,{likes:n.likes}):e}),loading:!1});case"UPDATE_LIKE":return Object(C.a)({},e,{post:Object(C.a)({},e.post,{likes:n}),loading:!1});case"UPDATE_STATUS":return Object(C.a)({},e,{posts:e.posts.map(function(e){return e._id===n.id?Object(C.a)({},e,{status:n.status}):e}),loading:!1});case"DELETE_POST":return Object(C.a)({},e,{posts:e.posts.filter(function(e){return e._id!==n}),loading:!1});case"ADD_COMMENT":case"ADD_SUB_COMMENT":return Object(C.a)({},e,{post:Object(C.a)({},e.post,{comments:n}),loading:!1});case"REMOVE_COMMENT":return Object(C.a)({},e,{post:Object(C.a)({},e.post,{comments:e.post.comments.filter(function(e){return e._id!==n}),loading:!1})});case"REMOVE_SUB_COMMENT":return Object(C.a)({},e,{post:Object(C.a)({},e.post,{comments:n}),loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USERS":return Object(C.a)({},e,{users:n,loading:!1});case"PROFILE_ERROR":return Object(C.a)({},e,{error:n,loading:!1});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_NOTIFICATION":return Object(C.a)({},e,{seen:n.seen,loading:!1});case"SEE_NOTIFICATION":return Object(C.a)({},e,{seen:!0,loading:!1});case"UNSEE_NOTIFICATION":return Object(C.a)({},e,{seen:!1,loading:!1});default:return e}}}),Ne=[pe.a],ke=Object(ue.createStore)(ye,{},Object(me.composeWithDevTools)(ue.applyMiddleware.apply(void 0,Ne))),Oe=Object(u.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)})});localStorage.token&&y(localStorage.token);var xe=function(){return Object(n.useEffect)(function(){ke.dispatch(N())},[]),r.a.createElement(u.a,{store:ke},r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(O,null),r.a.createElement("div",{className:"alert-container"},r.a.createElement(Oe,null)),r.a.createElement(o.b,{exact:!0,path:"/landing",component:x}),r.a.createElement(o.b,{exact:!0,path:"/about",component:w}),r.a.createElement("section",{className:"container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/register",component:T}),r.a.createElement(o.b,{exact:!0,path:"/login",component:S}),r.a.createElement(o.b,{exact:!0,path:"/profiles",component:q}),r.a.createElement(o.b,{exact:!0,path:"/profile/:id",component:z}),r.a.createElement(o.b,{exact:!0,path:"/",component:$}),r.a.createElement(o.b,{exact:!0,path:"/posts/:id",component:re}),r.a.createElement(o.b,{exact:!0,path:"/post-form",component:le}),r.a.createElement(ie,{exact:!0,path:"/dashboard",component:B}),r.a.createElement(o.b,{exact:!0,path:"/contact",component:se}),r.a.createElement(ie,{exact:!0,path:"/create-profile",component:H}),r.a.createElement(ie,{exact:!0,path:"/edit-profile",component:W}))),",",r.a.createElement(ce,null))))};c.a.render(r.a.createElement(xe,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.9e4c4a0f.chunk.js.map